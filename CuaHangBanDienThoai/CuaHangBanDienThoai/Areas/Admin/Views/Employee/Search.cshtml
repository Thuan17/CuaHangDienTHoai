@model IEnumerable<CuaHangBanDienThoai.Models.Employee>

@using CuaHangBanDienThoai.Common
<div class="table-responsive">
    <table class="table align-items-center mb-0">
        <thead>
            <tr class="text-gray-100">
                <th class="text-uppercase text-secondary text-sm font-weight-bolder opacity-7 " style="max-width: 30px;">
                    <input type="checkbox" class="checkAll" />
                </th>
                <th class="text-uppercase t text-dark text-xxs font-weight-bolder opacity-7 ">Hình ảnh</th>

                <th class="text-uppercase text-dark text-xxs font-weight-bolder opacity-7 ps-2">Thông tin nhân viên </th>
                <th class=" @(ViewBag.IsAdmin!=null && (bool)ViewBag.IsAdmin ?"text-uppercase text-center text-dark text-xxs font-weight-bolder opacity-7 ps-2   ":"hide")">Tài khoản </th>

                <th class="text-uppercase text-dark text-xxs font-weight-bolder opacity-7 ps-2" style="width: 100px;"></th>


                @*<th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Employed</th>*@
                <th class="text-secondary opacity-7" style="max-width:75px;"></th>
            </tr>
        </thead>
        <tbody style="max-height:80%;overflow-y:auto">
            @if (Model != null && Model.Any())
            {



                int i = 1;
                foreach (var item in Model)
                {


                    var functionTitle = item.tb_Function?.TitLe ?? "Chưa xác định";



                    <tr>
                        <td style="max-width:30px;">
                            <input type="checkbox" class="cbkItem" value="@item.EmployeeId" />@i
                        </td>
                        <td>
                            <div class="d-flex px-2 py-1">
                                <div>

                                    <img src="@(item.Image != null ? Url.Content("~/UploadsEmp/Image/" + item.Image) : Url.Content("/images/logo/logo2.png"))"
                                         class="avatar avatar-sm me-3"
                                         style="max-width: 100px; max-height: 100px; border-radius: 50%; object-fit: cover;"
                                         alt="@item.NameEmployee.Trim()" />
                                </div>
                            </div>

                        </td>
                        <td class="align-middle">
                            <h5 style="color:black !important">@item.NameEmployee.Trim()</h5>

                            <p class=" ">Mã nhân viên:<span class="text-gray-700">@(item.AccountEmployee.Code.Trim())</span></p>
                            <p class=" ">Chức vụ:<span class="text-gray-700">@(functionTitle?.Trim())</span></p>
                            <p class=" ">Số điện thoại :<span class="text-gray-700">@item.PhoneNumber.Trim()</span></p>


                            <p> Email:<span class="text-gray-700">@item.Email.Trim()</span> </p>



                        </td>
                        <td class="  @(ViewBag.IsAdmin!=null && (bool)ViewBag.IsAdmin ?"align-middle  justify-content-center align-items-center   ":"hide")" style="height: 100px;">
                            <div class="d-flex w-100  justify-content-center align-items-center">
                                <span class="mr-2">
                                    Mở
                                </span>
                                <div class="toggle d-flex justify-content-center align-items-center mt-2">
                                    <label class="toggle" for="toggleIsLock_@item.EmployeeId" style="display: flex; align-items: center;">
                                        <span class="text-center" style="white-space: nowrap;">
                                            <input class="toggle__input check_IsLock" type="checkbox" id="toggleIsLock_@item.EmployeeId" @(item.AccountEmployee.IsLock.GetValueOrDefault() ? "checked" : "")>
                                            <div class="toggle__fill"></div>
                                        </span>
                                    </label>
                                </div>
                                <span class="ml-2">
                                    Khoá
                                </span>
                            </div>

                        </td>

                        <td class="align-middle p-0 m-0 d-flex justify-content-center align-items-center"
                            style="max-width: 100px; width: 100px;">

                            <div class="d-flex flex-column align-items-center justify-content-center text-center mt-5">
                                <button type="button"
                                        class="btn btn-primary btn-s mt-3 mb-2 text-white btnDetail" data-id="@item.EmployeeId"
                                        style="min-width: 60px;">
                                    Xem
                                </button>
                                @if (ViewBag.IsAdmin != null && (bool)ViewBag.IsAdmin)
                                {
                                    <button type="button"
                                            class='btn btn-warning btn-s text-white btnEdit' data-id="@item.EmployeeId"
                                            style="min-width: 60px;">
                                        Sửa
                                    </button>
                                }

                            </div>

                        </td>


                    </tr>
                    i++;
                }

            }
            else
            {

                <tr class="text-center text-danger">
                    <td colspan="5">
                        <p>Không tồn tại bảng ghi nào !!!</p>
                    </td>
                </tr>
            }




        </tbody>
    </table>










</div>